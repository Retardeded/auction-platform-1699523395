<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Home</title>
    <link th:href="@{/css/home.css}" rel="stylesheet" />
    <script th:src="@{/js/dropdown.js}"></script>
</head>
<body>
<nav class="navbar">
    <div class="search-container">
        <form action="/search" method="get">
            <input type="text" placeholder="Search..." name="search">
        </form>
    </div>
    <div class="navbar-right">
        <button onclick="window.location.href='/auctions/create';" class="create-auction-button">Create Auction</button>
        <div class="profile-container">
            <button class="profile-button" onclick="toggleDropdown()">default@gmail.com</button>
            <div id="myDropdown" class="dropdown-content">
                <div class="dropdown-button" onclick="window.location.href='/profile';">
                    My Profile
                </div>
                <div class="dropdown-button" onclick="document.getElementById('logout-form').submit();">
                    Logout
                </div>
                <form id="logout-form" action="/logout" method="post" style="display: none;">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <input type="submit" value="Logout" />
                </form>
            </div>
        </div>
    </div>
</nav>

<div class="main-container">
    <div id="categories">
        <h2>Categories from most to least popular</h2>
        <ul>
            <li th:each="category : ${orderedCategories}">
                <a th:href="@{|/auctions/${category.name.toLowerCase().replaceAll(' ', '-')}|}" th:text="${category.name}">Category Name</a>
            </li>
        </ul>
    </div>
</div>

</body>
</html>